# Architecture
BR2_powerpc64le=y
BR2_powerpc_power8=y

BR2_GLOBAL_PATCH_DIR="board/qemu/ppc64le-powernv8/patches/"
BR2_TARGET_GENERIC_HOSTNAME="powernv"
BR2_TARGET_GENERIC_ISSUE="PowerNV"
BR2_TARGET_GENERIC_ROOT_PASSWD="passw0rd"

# System
BR2_TARGET_GENERIC_GETTY_PORT="hvc0"
BR2_SYSTEM_DHCP="eth0"

# Filesystem
BR2_TARGET_ROOTFS_EXT2=y
BR2_TARGET_ROOTFS_EXT2_SIZE="128M"
# BR2_TARGET_ROOTFS_TAR is not set
BR2_TARGET_ROOTFS_CPIO=y
BR2_ROOTFS_POST_BUILD_SCRIPT="board/qemu/ppc64le-powernv8/post-build-qemu.sh"

# Image
BR2_ROOTFS_POST_IMAGE_SCRIPT="board/qemu/post-image.sh"
BR2_ROOTFS_POST_SCRIPT_ARGS="$(BR2_DEFCONFIG)"

# Linux headers same as kernel
BR2_PACKAGE_HOST_LINUX_HEADERS_CUSTOM_6_6=y

# Kernel
BR2_LINUX_KERNEL=y
BR2_LINUX_KERNEL_CUSTOM_VERSION=y
BR2_LINUX_KERNEL_CUSTOM_VERSION_VALUE="6.6.3"
BR2_LINUX_KERNEL_CONFIG_FRAGMENT_FILES="board/qemu/ppc64le-powernv8/linux.config.fragment"
BR2_LINUX_KERNEL_DEFCONFIG="powernv"
BR2_LINUX_KERNEL_VMLINUX=y

# host-qemu for gitlab testing
BR2_PACKAGE_HOST_QEMU=y
BR2_PACKAGE_HOST_QEMU_SYSTEM_MODE=y

BR2_PACKAGE_STRACE=y
BR2_PACKAGE_KEXEC_LITE=y
BR2_PACKAGE_DROPBEAR=y
BR2_PACKAGE_DROPBEAR_DISABLE_REVERSEDNS=y
BR2_PACKAGE_SCREEN=y
BR2_PACKAGE_NUMACTL=y
BR2_PACKAGE_IPMITOOL=y
BR2_PACKAGE_POWERPC_UTILS=y
BR2_PACKAGE_PCIUTILS=y
BR2_PACKAGE_QEMU=y
BR2_PACKAGE_QEMU_CUSTOM_TARGETS="ppc64-softmmu"
BR2_PACKAGE_QEMU_SLIRP=y
BR2_PACKAGE_QEMU_FDT=y
